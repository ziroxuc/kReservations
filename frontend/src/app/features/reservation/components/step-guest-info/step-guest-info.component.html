<div class="step-container">
  <h2>Guest Information</h2>

  <form [formGroup]="form">
    <div class="form-group">
      <label for="customerName">Full Name *</label>
      <input
        id="customerName"
        type="text"
        class="form-input"
        formControlName="customerName"
        placeholder="Enter your full name"
        [class.error]="nameControl.invalid && nameControl.touched"
      />
      @if (nameControl.invalid && nameControl.touched) {
        @if (nameControl.hasError('required')) {
          <span class="error-text">Name is required</span>
        }
        @if (nameControl.hasError('minlength')) {
          <span class="error-text">Name must be at least 2 characters</span>
        }
      }
    </div>

    <div class="form-group">
      <label for="email">Email Address *</label>
      <input
        id="email"
        type="email"
        class="form-input"
        formControlName="email"
        placeholder="your.email@example.com"
        [class.error]="emailControl.invalid && emailControl.touched"
      />
      @if (emailControl.invalid && emailControl.touched) {
        @if (emailControl.hasError('required')) {
          <span class="error-text">Email is required</span>
        }
        @if (emailControl.hasError('email')) {
          <span class="error-text">Please enter a valid email address</span>
        }
      }
    </div>

    <div class="form-group">
      <label for="phone">Phone Number *</label>
      <input
        id="phone"
        type="tel"
        class="form-input"
        formControlName="phone"
        placeholder="+1 (555) 123-4567"
        [class.error]="phoneControl.invalid && phoneControl.touched"
      />
      @if (phoneControl.invalid && phoneControl.touched) {
        @if (phoneControl.hasError('required')) {
          <span class="error-text">Phone number is required</span>
        }
        @if (phoneControl.hasError('pattern')) {
          <span class="error-text">Please enter a valid phone number</span>
        }
      }
    </div>
  </form>

  <div class="actions">
    <button
      class="btn-secondary"
      (click)="onBack()"
    >
      ← Back
    </button>
    <button
      class="btn-primary"
      [disabled]="!form.valid"
      (click)="onNext()"
    >
      Next Step →
    </button>
  </div>
</div>
